<%- include('partials/header', { title:'All Bookings' }) %>

<h1 class="text-3xl font-bold mb-6">All Bookings</h1>

<% if (!bookings.length) { %>
  <p class="text-gray-500">No bookings yet.</p>
<% } else { %>
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white shadow rounded">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 text-left">When</th>
          <th class="px-4 py-2 text-left">Event</th>
          <th class="px-4 py-2 text-left">Ticket Type</th>
          <th class="px-4 py-2 text-right">Qty</th>
          <th class="px-4 py-2 text-left">Buyer</th>
        </tr>
      </thead>
      <tbody>
        <% bookings.forEach(b => { %>
          <tr class="border-t">
            <td class="px-4 py-2 text-sm text-gray-600">
              <%= new Date(b.booked_at).toLocaleString() %>
            </td>
            <td class="px-4 py-2"><%= b.event_title %></td>
            <td class="px-4 py-2"><%= b.ticket_type %></td>
            <td class="px-4 py-2 text-right"><%= b.qty %></td>
            <td class="px-4 py-2"><%= b.buyer_name %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
<% } %>

<a href="/organiser" class="inline-block mt-6 text-blue-600 hover:underline">
  &larr; Back to Dashboard
</a>

<%- include('partials/footer') %>
